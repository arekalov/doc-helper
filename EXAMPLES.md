# Примеры использования Doc Helper

## Пример 1: Быстрый старт с публичным репозиторием

```bash
./start.sh
```

```
╔═══════════════════════════════════════════════════════════════╗
║             Doc Helper - Помощник по документации            ║
║                   AI Advent 2024: Day 17-18                  ║
╚═══════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════
📋 Доступные команды:
  /repo <url>     - Установить URL репозитория
  /index          - Проиндексировать документацию
  /help [вопрос]  - Помощь по проекту
  /branch         - Показать текущую ветку (git branch)
  /stats          - Статистика индекса
  /clear          - Очистить историю диалога
  /exit           - Выход

⚠️  Репозиторий не установлен. Используйте /repo <url>
═══════════════════════════════════════════════════════════════

➤ Команда: /repo https://github.com/kotlin/kotlinx.coroutines

📥 Клонирование репозитория...
✅ Репозиторий установлен: https://github.com/kotlin/kotlinx.coroutines
📁 Путь: ./repos/kotlinx.coroutines

➤ Команда: /index

🔍 Читаем документацию из репозитория...
📚 Найдено документов: 3
  - README.md (8234 символов)
  - docs/basics.md (4567 символов)
  - docs/flow.md (6789 символов)

⏳ Начинаем индексацию...
✅ Индексация завершена за 15.2 сек

📊 Статистика:
  • Документов: 3
  • Чанков: 38

➤ Команда: Что такое корутины?

🤔 Думаю...

═══════════════════════════════════════════════════════════════
🤖 Ответ:

Корутины (coroutines) - это легковесные потоки выполнения в Kotlin, 
которые позволяют писать асинхронный код в императивном стиле.

Основные преимущества:
- Легковесность: можно создать тысячи корутин без перегрузки системы
- Структурированность: корутины следуют структуре кода
- Отмена и таймауты: встроенная поддержка управления временем жизни

Пример использования из документации:
```kotlin
suspend fun doSomething() {
    delay(1000L)
    println("Done")
}
```

📚 Источники:
  1. README.md (релевантность: 94.2%)
  2. docs/basics.md (релевантность: 87.5%)

⏱️  Время ответа: 3.2 сек
═══════════════════════════════════════════════════════════════

➤ Команда: /branch

🌿 Текущая ветка: master
```

## Пример 2: Использование команды /help

```
➤ Команда: /help

🤔 Думаю...

═══════════════════════════════════════════════════════════════
🤖 Ответ:

Проект kotlinx.coroutines имеет следующую структуру:

**Основные компоненты:**
- kotlinx-coroutines-core - основная библиотека
- kotlinx-coroutines-test - утилиты для тестирования
- kotlinx-coroutines-reactive - интеграция с Reactive Streams

**Как начать:**
1. Добавьте зависимость в build.gradle.kts
2. Используйте suspend функции для асинхронного кода
3. Запускайте корутины через launch или async

**Документация:**
- README.md содержит общую информацию
- docs/ содержит подробные руководства по темам

📚 Источники:
  1. README.md (релевантность: 91.3%)
  2. docs/basics.md (релевантность: 82.1%)

⏱️  Время ответа: 2.8 сек
═══════════════════════════════════════════════════════════════
```

## Пример 3: Диалог с историей

```
➤ Команда: Как создать корутину?

🤔 Думаю...

═══════════════════════════════════════════════════════════════
🤖 Ответ:

Для создания корутины используйте билдеры:

1. **launch** - запускает корутину и возвращает Job
2. **async** - запускает и возвращает Deferred с результатом
3. **runBlocking** - блокирует текущий поток

Пример:
```kotlin
GlobalScope.launch {
    delay(1000L)
    println("World!")
}
```

📚 Источники:
  1. docs/basics.md (релевантность: 92.7%)

⏱️  Время ответа: 2.5 сек
═══════════════════════════════════════════════════════════════

➤ Команда: А чем launch отличается от async?

🤔 Думаю...

═══════════════════════════════════════════════════════════════
🤖 Ответ:

Основные различия между launch и async:

**launch:**
- Запускает корутину "fire and forget"
- Возвращает Job (управление жизненным циклом)
- Используется когда результат не нужен

**async:**
- Запускает корутину с возвратом результата
- Возвращает Deferred<T>
- Вызов await() получает результат
- Используется для параллельных вычислений

Пример:
```kotlin
val deferred = async { computeValue() }
val result = deferred.await()
```

📚 Источники:
  1. docs/basics.md (релевантность: 89.4%)

⏱️  Время ответа: 2.9 сек
═══════════════════════════════════════════════════════════════
```

## Пример 4: Статистика и управление

```
➤ Команда: /stats

📊 Статистика индекса:
  • Документов: 3
  • Чанков: 38
  • Среднее чанков на документ: 12

➤ Команда: /clear

✅ История диалога очищена

➤ Команда: /exit

👋 До свидания!
```

## Советы по использованию

### 1. Формулировка вопросов

✅ **Хорошие вопросы:**
- "Как установить этот проект?"
- "Какие основные компоненты в проекте?"
- "Покажи пример использования API"

❌ **Плохие вопросы:**
- "Что?" (слишком общий)
- "Исправь баг" (не вопрос о документации)
- Вопросы не по теме репозитория

### 2. Использование /help

`/help` без параметров спросит о структуре проекта:
```
/help
```

`/help` с вопросом задаст конкретный вопрос:
```
/help Как запустить тесты?
```

### 3. Работа с историей

Приложение помнит последние несколько сообщений:
```
➤ Что такое Flow?
➤ А как его использовать?  # Контекст сохранен
```

Очистка истории:
```
/clear  # Начинает новый диалог
```

### 4. MCP функции

Получение информации о текущей ветке:
```
/branch  # Показывает ветку git
```

## Типичные сценарии использования

### Сценарий 1: Изучение нового проекта

1. Клонируете репозиторий
2. Индексируете документацию
3. Задаете общий вопрос: `/help`
4. Уточняете детали

### Сценарий 2: Поиск конкретной информации

1. Задаете конкретный вопрос
2. Изучаете источники в ответе
3. Задаете уточняющие вопросы

### Сценарий 3: Сравнение вариантов

1. Спрашиваете о разных подходах
2. LLM дает сравнение на основе документации
3. Получаете рекомендации

## Ограничения

- ⚠️  Индексируется только README и папка docs/
- ⚠️  Максимум ~3 релевантных источника на ответ
- ⚠️  История диалога ограничена последними 6 сообщениями
- ⚠️  Требуется интернет для работы с YandexGPT
- ⚠️  Требуется локальный Ollama для эмбеддингов

